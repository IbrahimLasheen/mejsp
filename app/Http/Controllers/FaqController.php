<?php namespace App\Http\Controllers;use App\Models\Faq;use Illuminate\Http\Request;use Illuminate\Support\Facades\DB;class FaqController extends Controller{public function index(){$faqs=Faq::orderBy("id",'DESC')->get();return view("admin.faqs.all",compact('faqs'));}public function create(){return view("admin.faqs.create");}public function store(Request $request){$request->validate(["title"=>'required|max:255','content'=>'required']);$insert=Faq::create(["title"=>$request->title,"content"=>$request->content]);if($insert->save()){return response(['status'=>true,'message'=>'تم اضافة البيانات بنجاح','form'=>'reset']);}}public function edit($id){$row=Faq::where('id',$id)->first();if(!empty($row)){return view('admin.faqs.edit',compact('row'));}else{return redirect(adminUrl('articles'));}}public function update(Request $request){$id=$request->id;$row=Faq::find($id);if(!empty($row)){$request->validate(["title"=>'required|max:255','content'=>'required']);$row->title=$request->title;$row->content=$request->content;if($row->save()){return response(['status'=>true,'message'=>'تم تحديث البيانات بنجاح']);}}else{return response(['status'=>'notfound','message'=>'هذه البيانات ليست متاحه في النظام']);}}public function destroy(Request $request){$row=Faq::find($request->id);if(!empty($row)){$row->delete();$request->session()->flash('successMessage','تم حذف البيانات بنجاح');return back();}return back();}public function show(Faq $faq){$faqs=DB::table($faq->table)->orderBy("id",'DESC')->get();return view("main.faqs",compact('faqs'));}}