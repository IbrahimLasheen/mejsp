$(document).ready((function(){let e=window.location.origin+"/u/";const n=$("#price").val();let t=window.location.pathname.split("/")[4],a="",o=window.location.pathname.split("/")[2];$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),"conference"==o?a="conference/response/checkout":"international-publishing"==o?a="international-publishing/response/checkout":"researches"==o?a="researches/response/checkout":"invoice"==window.location.pathname.split("/")[1]&&(e=window.location.origin,a="/invoice/response/checkout",t=window.location.pathname.split("/")[2]),paypal.Buttons({style:{shape:"rect",color:"gold",layout:"vertical",label:"paypal"},createOrder:function(e,t){return t.order.create({purchase_units:[{amount:{currency_code:"USD",value:n,breakdown:{item_total:{currency_code:"USD",value:0},shipping:{currency_code:"USD",value:0},tax_total:{currency_code:"USD",value:0}}}}]})},onApprove:function(n,o){return o.order.capture().then((function(n){const o=document.getElementById("paypal-button-container"),c=document.getElementById("checkout-box");o.innerHTML="",$(c).empty(),c.innerHTML='<div class="col-12"> <div class="box-white"> <div class=" text-center"> <i class="fas fa-check-circle fa-4x text-success"></i> <h3 class="my-3 text-center">تمت عملية الشراء بنجاح</h3> <span class=" text-muted">طلبك الان قيد المراجعة , وسوف يتم تنفيذه قريبا</span> </div></div></div>';let r={amount:n.purchase_units[0].amount.value,status:n.status,payment_id:n.id,payer_email:n.payer.email_address,payer_name:n.payer.name.given_name+" "+n.payer.name.surname,payer_id:n.payer.payer_id,id:t};$.post(e+a,r,(function(e,n,t){}),"json")}))},onError:function(e){console.log(e)}}).render("#paypal-button-container")}));